# Задача № 112

Реализуйте программу для определения позиции одного изображения внутри другого. На вход поступают две картинки: одна -- полная и вторая -- прямоугольная “вырезка” из первой меньшего размера.


Программа должна вернуть координаты второго изображения внутри первого. Достаточно левого верхнего угла второй картинки. Либо программа может дать пользователю ориентир в виде: “юг”, “северо-восток”, “центр изображения” и т.п. Тогда подготовка ответа должна занимать меньше времени. Какой ответ хочет получить пользователь: точный или ориентир - стоит задавать через входной параметр.


Изображение воспринимаем как двумерный массив целых чисел, от 0 до 255 включительно.

# Идея алгоритма

Мною был подготовлен только алгоритм вычисления точного ответа. Для этого я обобщил [алгоритм Рабина-Карпа](https://neerc.ifmo.ru/wiki/index.php?title=%D0%9F%D0%BE%D0%B8%D1%81%D0%BA_%D0%BF%D0%BE%D0%B4%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8_%D0%B2_%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B5_%D1%81_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC_%D1%85%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F._%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%A0%D0%B0%D0%B1%D0%B8%D0%BD%D0%B0-%D0%9A%D0%B0%D1%80%D0%BF%D0%B0) поиска подстроки в строке на двумерный случай: 
теперь хэшами будут многочлены от двух простых чисел, степень одного из которых будет меняться по вертикали, а другого - по горизонтали.

Пример: для матрицы [[1, 2], [3, 4]] хэш будет иметь вид (1 * pq + 2 * q + 3 * p + 4) % mod, где p, q - небольшие простые числа выбранные нами, а mod - большое простое число.

# Асимптотика

Так как коллизии в алгоритме Рабина-Карпа маловероятны, то наш алгоритм будет работать за линейное время от размера картинки + количество вхождений * размер вырезки (так как все хэширования и проверка равенства происходят за линейное время). При коллизиях возникают дополнительные проверки равенства подматриц, что увеличивает сложность.